<link rel="import" href="../../actions/user.html">


<script>



const initialUserState = {
    token: false,
    id: false,
    name: '',
    email: '',
    fetching: false,
    usergroup: 0,
    subscriptions: [],
    playlists: [],
};

const userReducer = (state = initialUserState, action) => {
    console.log(action);
    switch(action.type) {
        case 'UPDATE_USERNAME': {
            return {
                ...state,
                ...action.payload
            };
        }break;
        case POST_LOGIN_REQUEST || POST_REGISTER_REQUEST: {
            return {
                ...state,
                ...action.payload,
            };
        }break;
        case 'USER_LOGIN_FAILURE': {

        }break;
        case POST_LOGIN_SUCCESS || POST_REGISTER_SUCCESS: {
            return {
                ...state,
                ...action.payload,
            };
        }break;
        
        case GET_USER_DATA_SUCCESS: {
            return {
                ...state,
                ...action.payload,
            };
        }


        case POST_PLAYLIST_SUCCESS: {
            const newState = {...state};

            return {
                ...newState,
                playlists: [...newState.playlists, {...action.payload}],
            }
            
        }

        case DO_LOGOUT_SUCCESS: {
            return initialUserState;
        }break;
        default:
            return state;
    }

    return state;
};


</script>